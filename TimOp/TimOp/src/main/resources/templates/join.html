<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>회원가입</title>
</head>
<body>
<h1>회원가입</h1>
<form id="signupForm">
    <label for="studentId">학번:</label>
    <input type="text" id="studentId" required /><br/>

    <label for="password">비밀번호:</label>
    <input type="password" id="password" required /><br/>

    <label for="name">이름:</label>
    <input type="text" id="name" required /><br/>

    <label for="major">학부/전공:</label>
    <select id="major" required>
        <Option value='ICT융합공학부 (공과대학)'>	ICT융합공학부 (공과대학)</option>
        <Option value='IoT전자공학전공 (ICT공학부)'>	IoT전자공학전공 (ICT공학부)</option>
        <Option value='Wel-Tech융합전공 (복지융합대학)'>	Wel-Tech융합전공 (복지융합대학)</option>
        <Option value='가상현실전공 (ICT공학부)'>	가상현실전공 (ICT공학부)</option>
        <Option value='가상현실전공 (ICT융합공학부)'>	가상현실전공 (ICT융합공학부)</option>
        <Option value='건축공학전공 (부동산건설학부)'>	건축공학전공 (부동산건설학부)</option>
        <Option value='경영학전공 (글로벌경영학부)'>	경영학전공 (글로벌경영학부)</option>
        <Option value='경영학전공(야) (글로벌경영학부(야))'>	경영학전공(야) (글로벌경영학부(야))</option>
        <Option value='경제금융전공 (정경학부)'>	경제금융전공 (정경학부)</option>
        <Option value='경제금융전공(야) (정경학부(야))'>	경제금융전공(야) (정경학부(야))</option>
        <Option value='공공인재학전공 (정경학부)'>	공공인재학전공 (정경학부)</option>
        <Option value='공공인재학전공(야) (정경학부(야))'>	공공인재학전공(야) (정경학부(야))</option>
        <Option value='교양 (대학)'>	교양 (대학)</option>
        <Option value='교양(야) (교양)'>	교양(야) (교양)</option>
        <Option value='교육학과 (사범대학)'>	교육학과 (사범대학)</option>
        <Option value='국제지역학전공 (글로벌문화학부)'>	국제지역학전공 (글로벌문화학부)</option>
        <Option value='국제통상학전공 (글로벌경영학부)'>	국제통상학전공 (글로벌경영학부)</option>
        <Option value='글로벌경영학부 (경영관리대학)'>	글로벌경영학부 (경영관리대학)</option>
        <Option value='글로벌경영학부(야) (경영관리대학)'>	글로벌경영학부(야) (경영관리대학)</option>
        <Option value='글로벌문화학부 (글로벌인재대학)'>	글로벌문화학부 (글로벌인재대학)</option>
        <Option value='기독교학과 (글로벌인재대학)'>	기독교학과 (글로벌인재대학)</option>
        <Option value='기독교학전공 (글로벌문화학부)'>	기독교학전공 (글로벌문화학부)</option>
        <Option value='데이터사이언스전공 (ICT공학부)'>	데이터사이언스전공 (ICT공학부)</option>
        <Option value='데이터사이언스전공 (인공지능융합공학부)'>	데이터사이언스전공 (인공지능융합공학부)</option>
        <Option value='도시건축융합공학전공 (부동산건설학부)'>	도시건축융합공학전공 (부동산건설학부)</option>
        <Option value='도시공학전공 (부동산건설학부)'>	도시공학전공 (부동산건설학부)</option>
        <Option value='미술문화복지전공 (복지융합인재학부)'>	미술문화복지전공 (복지융합인재학부)</option>
        <Option value='반도체시스템융합전공'>	반도체시스템융합전공 </option>
        <Option value='부동산건설학부 (ICT건설공과대학)'>	부동산건설학부 (ICT건설공과대학)</option>
        <Option value='부동산학전공 (ICT건설공과대학>부동산건설학부)'>	부동산학전공 (ICT건설공과대학>부동산건설학부)</option>
        <Option value='사회복지학부 (복지융합대학)'>	사회복지학부 (복지융합대학)</option>
        <Option value='사회복지학부(야) (복지융합대학)'>	사회복지학부(야) (복지융합대학)</option>
        <Option value='사회사업학전공 (사회복지학부)'>	사회사업학전공 (사회복지학부)</option>
        <Option value='사회사업학전공(야) (사회복지학부(야))'>	사회사업학전공(야) (사회복지학부(야))</option>
        <Option value='사회서비스정책학전공 (사회복지학부)'>	사회서비스정책학전공 (사회복지학부)</option>
        <Option value='산업경영공학전공 (ICT공학부)'>	산업경영공학전공 (ICT공학부)</option>
        <Option value='산업경영공학전공 (인공지능융합공학부)'>	산업경영공학전공 (인공지능융합공학부)</option>
        <Option value='산업공학전공 (인공지능융합공학부)'>	산업공학전공 (인공지능융합공학부)</option>
        <Option value='세무학전공 (정경학부)'>	세무학전공 (정경학부)</option>
        <Option value='세무학전공(야) (정경학부(야))'>	세무학전공(야) (정경학부(야))</option>
        <Option value='소프트웨어전공 (ICT공학부)'>	소프트웨어전공 (ICT공학부)</option>
        <Option value='소프트웨어전공 (ICT융합공학부)'>	소프트웨어전공 (ICT융합공학부)</option>
        <Option value='스마트도시공학전공 (부동산건설학부)'>	스마트도시공학전공 (부동산건설학부)</option>
        <Option value='스포츠복지전공 (복지융합인재학부)'>	스포츠복지전공 (복지융합인재학부)</option>
        <Option value='스포츠복지전공 (예체능학부)'>	스포츠복지전공 (예체능학부)</option>
        <Option value='스포츠복지학과 (복지융합대학)'>	스포츠복지학과 (복지융합대학)</option>
        <Option value='실버산업학과 (복지융합대학)'>	실버산업학과 (복지융합대학)</option>
        <Option value='유니버설비주얼디자인전공 (복지융합인재학부)'>	유니버설비주얼디자인전공 (복지융합인재학부)</option>
        <Option value='유니버설아트디자인전공 (예체능학부)'>	유니버설아트디자인전공 (예체능학부)</option>
        <Option value='유니버설아트디자인학과 (복지융합대학)'>	유니버설아트디자인학과 (복지융합대학)</option>
        <Option value='유아교육과 (사범대학)'>	유아교육과 (사범대학)</option>
        <Option value='음악학과 (복지융합대학)'>	음악학과 (복지융합대학)</option>
        <Option value='음악학전공 (예체능학부)'>	음악학전공 (예체능학부)</option>
        <Option value='인공지능전공 (인공지능융합공학부)'>	인공지능융합공학부 (공과대학)</option>
        <Option value='5451'>	인공지능전공 (인공지능융합공학부)</option>
        <Option value='전자공학전공 (ICT융합공학부)'>	전자공학전공 (ICT융합공학부)</option>
        <Option value='정경학부 (경영관리대학)'>	정경학부 (경영관리대학)</option>
        <Option value='정경학부(야) (경영관리대학)'>	정경학부(야) (경영관리대학)</option>
        <Option value='중국지역학전공 (글로벌문화학부)'>	중국지역학전공 (글로벌문화학부)</option>
        <Option value='중등특수교육과 (사범대학)'>	중등특수교육과 (사범대학)</option>
        <Option value='초등특수교육과 (사범대학)'>	초등특수교육과 (사범대학)</option>
        <Option value='한국어문학전공 (글로벌문화학부)'>	한국어문학전공 (글로벌문화학부)</option>
        <Option value='한영문화콘텐츠전공 (글로벌문화학부)'>	한영문화콘텐츠전공 (글로벌문화학부)</option>
    </select>

    <button type="submit">회원가입</button>
</form>

<script>
    document.getElementById("signupForm").addEventListener("submit", async function(e) {
      e.preventDefault();

      const studentId = document.getElementById("studentId").value;
      const password = document.getElementById("password").value;
      const name = document.getElementById("name").value;
      const major = document.getElementById("major").value;

      const requestBody = {
        studentId,
        password,
        name,
        major
      };

      try {
        const response = await fetch("/join", {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify(requestBody)
        });

        if (!response.ok) {
          const errorMsg = await response.text();
          throw new Error("회원가입 실패: " + errorMsg);
        }

        alert("회원가입이 완료되었습니다.");
        window.location.href = "/login"; // 로그인 페이지로 이동
      } catch (error) {
        console.error("에러 발생:", error);
        alert("회원가입에 실패했습니다.");
      }
    });
</script>
</body>
</html>
